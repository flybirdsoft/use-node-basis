var DOM={};DOM.getD=function(e){return document.getElementById(e)},DOM.getEvent=function(e){return e||(e=window.event),e},DOM.addEvent=function(){},DOM.Bind=function(e,t){return function(){t.apply(e,arguments)}};var overLayer={};overLayer.bgColor="#666666",overLayer.opacity=50,overLayer.zIndex=1e3,overLayer.isClickClose=!1,overLayer.style="_position:absolute;position:fixed;top:0;left:0;width:100%;height:100%; background-color:{2};FILTER: alpha(opacity={0});opacity: {1}; -moz-opacity: {1}; z-index:{zIndex}",overLayer.createMask=function(){if(null==DOM.getD("wMask")){var e=document.createElement("div");return e.id="wMask",overLayer.style=overLayer.style.replace("{0}",overLayer.opacity),overLayer.style=overLayer.style.replace("{1}",overLayer.opacity/100),overLayer.style=overLayer.style.replace("{2}",overLayer.bgColor),overLayer.style=overLayer.style.replace("{zIndex}",overLayer.zIndex),e.setAttribute("style",overLayer.style),e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor=overLayer.bgColor,e.style.display="block",e.style.zIndex=1e3,e.style.filter="alpha(opacity=50)",overLayer.isClickClose&&e.setAttribute("onclick","overLayer.hide()"),document.body.appendChild(e),e}var e=DOM.getD("wMask");return e.style.display="block",e},overLayer.show=function(){overLayer.createMask(!0)},overLayer.hide=function(){var e=DOM.getD("wMask");try{e.style.display="none"}catch(t){}};var wDialog=function(e){var t,o,i,n=this;this.drag=!1,this.offsetLeft=0,this.offsetTop=0,this.mouseX=0,this.mouseY=0,this.options=e,this.width=e.width||500,this.height=e.height||300,this.isMove=e.isMove||!1,this.dialog=document.createElement("div"),this.dialog.id=e.id||"wDialog",this.dialog.style.width=this.width+"px",this.dialog.style.height=this.height+"px",this.dialog.style.overflow="hidden",this.dialog.style.zIndex=overLayer.zIndex+10,this.dialog.className=e.className||"wDialog",this.dialog.style.display="none",this.position=e.position||"static",this.type=e.type||"center",this.dialog.style.position="fixed"==this.position?"fixed":"absolute","center"==this.type?(document.documentElement?(o=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(o=document.documentElement.clientWidth||document.body.clientWidth,t=document.documentElement.clientWidth||document.body.clientHeight),this.dialog.style.left=o/2-parseInt(this.width)/2+"px",this.dialog.style.top=t/2-parseInt(this.height)/2+"px"):(document.documentElement?(o=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(o=document.documentElement.clientWidth||document.body.clientWidth,t=document.documentElement.clientWidth||document.body.clientHeight),this.dialog.style.left=e.type.left?e.type.left+"px":o/2-parseInt(this.width)/2+"px",this.dialog.style.top=e.type.top?e.type.top+"px":t/2-parseInt(this.height)/2+"px"),e.hasBar&&(i='<div class="wDialogBar" style="cursor:move"><div class="wTitle" style="float:left">{title}</div><div class="wClose" style="float:right;cursor:pointer">{X}</div></div>',e.barOptions&&(i=i.replace("{title}",e.barOptions.title),i=i.replace("{X}","X"),this.dialog.innerHTML=i)),e.contentId&&(e.contentId.indexOf("#")>=0||e.contentId.indexOf(".")>=0?(this.dialog.innerHTML=this.dialog.innerHTML+$(e.contentId).html(),$(e.contentId).html("")):(this.dialog.innerHTML=this.dialog.innerHTML+document.getElementById(e.contentId).innerHTML,document.getElementById(e.contentId).innerHTML=""));var s=document.getElementsByTagName("body")[0];s.appendChild(this.dialog),$("#"+this.dialog.id+" .wClose").click(function(){n.hide()}),this.isMove&&this.Move(),e.timeOut&&setTimeout(function(){n.hide()},e.timeOut),wDialog.ar.push(this),this.dialog.display="none"};wDialog.prototype.show=function(){overLayer.show(),this.dialog.style.display="block"},wDialog.prototype.hide=function(){this.dialog.style.display="none",overLayer.hide()},wDialog.prototype.Move=function(){var e=this;this.dialog.onmousedown=function(t){var t=t||event,o=t.target||t.srcElement;"wDialogBar"==o.className&&(e.drag=!0),e.offsetTop=this.offsetTop,e.offsetLeft=this.offsetLeft,e.mouseX=DOM.getEvent(t).clientX,e.mouseY=DOM.getEvent(t).clientY+document.documentElement.scrollTop+document.body.scrollTop},this.onmouseup=DOM.Bind(this,function(){this.drag=!1}),this.onmousemove=DOM.Bind(this,function(e){if(this.drag){parseInt(this.dialog.style.left)<=5;var t=parseInt(document.documentElement.scrollTop||document.body.scrollTop);this.dialog.style.left=this.offsetLeft+DOM.getEvent(e).clientX-this.mouseX+"px",this.dialog.style.top=this.offsetTop+DOM.getEvent(e).clientY-this.mouseY+t+"px"}}),document.addEventListener?(document.addEventListener("mouseup",this.onmouseup,!1),document.addEventListener("mousemove",this.onmousemove,!1)):(document.attachEvent("onmouseup",this.onmouseup),document.attachEvent("onmousemove",this.onmousemove))},wDialog.ar=new Array,wDialog.findDialog=function(e){var t;for(t=0;t<wDialog.ar.length;t++)return wDialog.ar[0].dialog.id==e?wDialog.ar[0]:null},wDialog.autoPopDialog=function(e){wDialog.timeId=setInterval(function(){"string"==typeof e.id?wDialog.findDialog(e.id).show():e.id.show()},e.time)},wDialog.closeAutoPopDialog=function(){clearInterval(wDialog.timeId)};